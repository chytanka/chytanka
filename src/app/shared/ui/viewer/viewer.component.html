<div #viewRef class="view" [class]="viewer.viewModeOption.mode" [dir]="viewer.viewModeOption.dir"
    (dblclick)="toggleFullScreen()" (click)="toggleOverlay()">

    <div>
        <div class="page">
            <h1 style="text-align: center;">{{viewer.viewModeOption.title}}<br />{{viewer.viewModeOption.emoji}}</h1>
        </div>
    </div>

    <div class="images" *ngFor="let img of episode?.images, let i = index">
        <div class="page">
            <figure [id]="'page_'+i+1">
                <img [src]="img.src" [alt]="img.alt" [width]="img.width" [height]="img.height" loading="lazy">
            </figure>
        </div>
    </div>

    <div class="copyright-content" [ngClass]="{'dual': (episode?.images?.length??0) % 2 > 0}">
        <div class="page"><ng-content /></div>
    </div>

</div>

<app-overlay [ngClass]="{'show': showOverlay}">
    <app-warm-control (valueChange)="viewer.warm=$event" [value]="viewer.warm" />
    <button style="margin-left: auto;" (click)="toggleFullScreen()">
        üñ•Ô∏è
    </button>
</app-overlay>

<app-overlay class="top" [ngClass]="{'show': showOverlay}">
    <a [routerLink]="['/']">üè†</a> <span>|</span><span>{{episode?.title}}</span>
    <app-view-mode-bar (valueChange)="viewer.viewModeOption = $event" [options]="viewer.viewModeOptions" [value]="viewer.viewModeOption" />
</app-overlay>

<app-warm-filter class="filter" [value]="viewer.warm" />